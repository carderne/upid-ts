<!DOCTYPE html>
<html lang="en">
<head>
  <title>upid</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link href="tw.css" rel="stylesheet"/>
</head>
<body class="bg-slate-800 h-screen flex flex-col items-center justify-center">
    <div class="max-w-md mx-auto text-center text-pink-100">
        <div class="text-2xl flex flex-col my-4 text-left w-max m-auto">
          <div>1. enter a prefix</div>
          <div>2. get your upid</div>
        </div>
        <div class="flex items-center justify-center">
            <input
                id="prefix"
                type="text"
                class="w-64 h-16 px-4 pl-8 pr-4
                       text-pink-300 text-center text-2xl font-extrabold tracking-[1.4em]
                       bg-slate-800 border border-pink-100
                       appearance-none outline-none focus:border-2 rounded-lg"
                maxlength="4"
            />
        </div>
        <div id="encoded" class="p-4 text-center mx-auto font-mono">&nbsp;</div>
        <div class="text-lg underline mt-16 hover:text-pink-400">
          <a href="https://github.com/carderne/upid">what is a upid?</a>
        </div>
    </div>
</body>

<script type="module">
import { upid } from "https://unpkg.com/upid-ts";
document.addEventListener("DOMContentLoaded", () => {
  const prefix = document.getElementById("prefix");
  const encoded = document.getElementById("encoded");
  const updateEncoded = () => {
    const val = prefix.value ?? "";
    const u = upid(val);
    encoded.innerText = u.toStr();
  };
  prefix.addEventListener("input", updateEncoded);
  updateEncoded();
  prefix.focus();
});
</script>

</html>
